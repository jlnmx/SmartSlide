# from flask_sqlalchemy import SQLAlchemy
# from datetime import datetime
# from werkzeug.security import generate_password_hash, check_password_hash

# db = SQLAlchemy()

# class User(db.Model):
#     __tablename__ = 'users'
#     id = db.Column(db.Integer, primary_key=True)
#     email = db.Column(db.String(120), unique=True, nullable=False)
#     password_hash = db.Column(db.String(256), nullable=False)
#     full_name = db.Column(db.String(200), nullable=True)
#     birthday = db.Column(db.String(20), nullable=True)
#     contact_number = db.Column(db.String(20), nullable=True)
#     user_type = db.Column(db.String(50), nullable=True)  # student, professional, personal
#     registration_completed = db.Column(db.Boolean, default=False)
#     created_at = db.Column(db.DateTime, default=datetime.utcnow)
#     updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)

#     def set_password(self, password):
#         self.password_hash = generate_password_hash(password)

#     def check_password(self, password):
#         return check_password_hash(self.password_hash, password)

# class Analytics(db.Model):
#     __tablename__ = 'analytics'
#     id = db.Column(db.Integer, primary_key=True)
#     user_id = db.Column(db.Integer, db.ForeignKey('users.id'), nullable=False)
#     # For time-based analytics (e.g., slides created per month)
#     month = db.Column(db.String(20), nullable=True)  # e.g., '2025-05'
#     slides_created = db.Column(db.Integer, default=0)
#     # For topic analytics
#     topic = db.Column(db.String(100), nullable=True)
#     topic_count = db.Column(db.Integer, default=0)
#     # General usage
#     quizzes_generated = db.Column(db.Integer, default=0)
#     scripts_generated = db.Column(db.Integer, default=0)
#     last_active = db.Column(db.DateTime, default=datetime.utcnow)
#     user = db.relationship('User', backref=db.backref('analytics', lazy=True))

# class Presentation(db.Model):
#     __tablename__ = 'presentations'
#     id = db.Column(db.Integer, primary_key=True)
#     user_id = db.Column(db.Integer, db.ForeignKey('users.id'), nullable=False)
#     title = db.Column(db.String(200), nullable=False)
#     created_at = db.Column(db.DateTime, default=datetime.utcnow)
#     updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)
#     template = db.Column(db.String(100), nullable=True)
#     presentation_type = db.Column(db.String(100), nullable=True)
#     slides_json = db.Column(db.Text, nullable=True)  # Store slides as JSON string
#     user = db.relationship('User', backref=db.backref('presentations', lazy=True))

# class SavedQuiz(db.Model):
#     __tablename__ = 'saved_quizzes'
#     id = db.Column(db.Integer, primary_key=True)
#     user_id = db.Column(db.Integer, db.ForeignKey('users.id'), nullable=False)
#     name = db.Column(db.String(200), nullable=False)
#     content = db.Column(db.Text, nullable=False)  # Store quiz content as JSON string
#     created_at = db.Column(db.DateTime, default=datetime.utcnow)
#     user = db.relationship('User', backref=db.backref('saved_quizzes', lazy=True))

# class SavedScript(db.Model):
#     __tablename__ = 'saved_scripts'
#     id = db.Column(db.Integer, primary_key=True)
#     user_id = db.Column(db.Integer, db.ForeignKey('users.id'), nullable=False)
#     name = db.Column(db.String(200), nullable=False)
#     content = db.Column(db.Text, nullable=False)  # Store script content as text
#     created_at = db.Column(db.DateTime, default=datetime.utcnow)
#     user = db.relationship('User', backref=db.backref('saved_scripts', lazy=True))

# class CustomTemplate(db.Model):
#     __tablename__ = 'custom_templates'
#     id = db.Column(db.Integer, primary_key=True)
#     user_id = db.Column(db.Integer, db.ForeignKey('users.id'), nullable=False)
#     name = db.Column(db.String(200), nullable=False)
#     filename = db.Column(db.String(255), nullable=False)
#     file_path = db.Column(db.String(500), nullable=False)
#     file_size = db.Column(db.Integer, nullable=True)
#     created_at = db.Column(db.DateTime, default=datetime.utcnow)
#     user = db.relationship('User', backref=db.backref('custom_templates', lazy=True))

# class PasswordReset(db.Model):
#     __tablename__ = 'password_resets'
#     id = db.Column(db.Integer, primary_key=True)
#     user_id = db.Column(db.Integer, db.ForeignKey('users.id'), nullable=False)
#     email = db.Column(db.String(120), nullable=True)
#     phone = db.Column(db.String(20), nullable=True)
#     verification_code = db.Column(db.String(10), nullable=False)
#     expires_at = db.Column(db.DateTime, nullable=False)
#     verified = db.Column(db.Boolean, default=False)
#     verified_at = db.Column(db.DateTime, nullable=True)
#     firebase_verified = db.Column(db.Boolean, default=False)
#     firebase_phone = db.Column(db.String(20), nullable=True)
#     created_at = db.Column(db.DateTime, default=datetime.utcnow)
#     user = db.relationship('User', backref=db.backref('password_resets', lazy=True))